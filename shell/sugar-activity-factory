#!/usr/bin/python
import sys
import logging

import pygtk
pygtk.require('2.0')
import gobject
import gtk
import dbus.glib

# Work around for dbus mutex locking issue
gobject.threads_init()
dbus.glib.threads_init()

from sugar.activity import ActivityFactory
import sugar.logger

sugar.logger.start(sys.argv[1])

logging.info('Starting activity factory %s' % sys.argv[1])

ActivityFactory.register_factory(sys.argv[1], sys.argv[2])

gtk.main()
