#!/usr/bin/env python
import sys
import fileinput

from sugar.bundle.activitybundle import ActivityBundle

from dbus.mainloop.glib import DBusGMainLoop
DBusGMainLoop(set_as_default=True)

def cmd_help():
    print 'Usage: sugar-install-bundle [ bundlename ] \n\n\
    Install an activity bundle (.xo). \n'

if len(sys.argv) != 2:
    cmd_help()
    sys.exit(2)

for line in fileinput.input():
    if line:
        bundle = ActivityBundle(line)
        bundle.install()
        print "%s: '%s' installed." % (sys.argv[0], line)
